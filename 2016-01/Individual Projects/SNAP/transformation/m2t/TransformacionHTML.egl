<html>
<head>
<tittle>[%=page.name%]</tittle>
[%
for(h in page.head.styles){
%]
<link rel="stylesheet" href="[%=h.name%]">
[%
}
for(h in page.head.scripts){
%]
<script src="[%=h.name%]"></script>
[%
}
%]
</head>
<body ng-app="[%=page.body.ngApp%]">
[%
for(b in page.body.elements){
%]
[%=b.buildElement()%]
[%
}
%]
</body>
</html>

[%
  //@template
  operation Element buildElement():String { 
  	var element = "";
  	if (self.isTypeOf(Button)){
  		element=element+"<input";
  		if (self.type <> null){
  			element=element+" type=\""+self.type+"\" ";
  		}
  		if (self.class <> null){
  			element=element+" class=\""+self.class+"\" ";
  		}
  		if (self.value <> null){
  			element=element+" value=\""+self.value+"\" ";
  		}
  		if (self.id <> null){
  			element=element+" id=\""+self.id+"\" ";
  		}
  		if (self.name <> null){
  			element=element+" name=\""+self.name+"\" ";
  		}
  		if (self.ngClick <> null){
  			element=element+" ng-click=\""+self.ngClick+"\" ";
  		}
  		element=element+" />";
  	}else if (self.isTypeOf(InputText)){
  		element=element+"<input";
  		if (self.type <> null){
  			element=element+" type=\""+self.type+"\" ";
  		}
  		if (self.id <> null){
  			element=element+" id=\""+self.id+"\" ";
  		}
  		if (self.name <> null){
  			element=element+" name=\""+self.name+"\" ";
  		}
  		if (self.class <> null){
  			element=element+" class=\""+self.class+"\" ";
  		}
  		if (self.ngModel <> null){
  			element=element+" ng-model=\""+self.ngModel+"\" ";
  		}
  		element=element+" >";
  	}else if (self.isTypeOf(Label)){
  		element=element+"<label";
  		if (self.fors <> null){
  			element=element+" for=\""+self.fors+"\" ";
  		}
  		if (self.class <> null){
  			element=element+" class=\""+self.class+"\" ";
  		}
  		if (self.id <> null){
  			element=element+" id=\""+self.id+"\" ";
  		}
  		if (self.value <> null){
  			element=element+">"+self.value+"";
  		} else {
  			element=element+">";
  		}
  		element=element+"</label>";
  	}else if (self.isTypeOf(Table)){
  		element=element+"<md-table-container>";
  		element=element+"\n<table md-table md-row-select multiple ng-model=\"selected\" md-progress=\"promise\">";
  		if (self.caption <> null){
  			element=element+"\n<caption>"+self.caption+"</caption>";
  		}
  		if (self.thead <> null){
  			element=element+"\n<thead md-head>";
  			if (self.thead.tr <> null){
	  			element=element+"\n<tr md-row>";
	  			for (f in self.thead.tr.td){
		  			element=element+"\n<th md-column>"+f.value+"</th>";
		  		}
	  			element=element+"\n</tr>";
	  		}
  			element=element+"\n</thead>";
  		}
  		if (self.tbody <> null){
  			element=element+"\n<tbody md-body>";
  			for (fil in self.tbody.tr){
	  			element=element+"\n<tr md-row";
	  			if (fil.ngRepeat <> null){
		  			element=element+" ng-repeat=\""+fil.ngRepeat+"\"";
		  		}
		  		element=element+" >";
	  			for (col in fil.td){
		  			element=element+"\n<td md-cell>"+col.value+"</td>";
		  		}
	  			element=element+"\n</tr>";
	  		}
  			element=element+"\n</tbody>";
  		}
  		if (self.class <> null){
  			element=element+" class=\""+self.class+"\" ";
  		}
  		if (self.id <> null){
  			element=element+" id=\""+self.id+"\" ";
  		}
  		element=element+"\n</table>";
  		element=element+"\n</md-table-container>";
  	}else if (self.isTypeOf(Container)){
  		if(self.type.name==ETypeContainer#div.name){
  			element=element+"<div";
  			if (self.class <> null){
  				element=element+" class=\""+self.class+"\" ";
  			}
  			if (self.ngController <> null){
  				element=element+" ng-controller=\""+self.ngController+"\" ";
  			}
  			if (self.id <> null){
  				element=element+" id=\""+self.id+"\" ";
  			}
  			element=element+">";
  			for (e in self.elements){
  				element=element+"\n"+e.buildElement();
  			}
  			element=element+"\n</div>";
  		}else if(self.type.name==ETypeContainer#form.name){
  			element=element+"<form";
  			if (self.name <> null){
  				element=element+" name=\""+self.name+"\" ";
  			}
  			if (self.class <> null){
  				element=element+" class=\""+self.class+"\" ";
  			}
  			element=element+">";
  			for (e in self.elements){
  				element=element+"\n"+e.buildElement();
  			}
  			element=element+"\n</form>";
  		}else if(self.type.name==ETypeContainer#uibTabSet.name){
  			element=element+"<uib-tabset";
  			if (self.class <> null){
  				element=element+" class=\""+self.class+"\" ";
  			}
  			element=element+">";
  			for (e in self.elements){
  				element=element+"\n"+e.buildElement();
  			}
  			element=element+"\n</uib-tabset>";
  		}else if(self.type.name==ETypeContainer#uibTab.name){
  			element=element+"<uib-tab";
  			if (self.heading <> null){
  				element=element+" heading=\""+self.heading+"\" ";
  			}
  			element=element+">";
  			for (e in self.elements){
  				element=element+"\n"+e.buildElement();
  			}
  			element=element+"\n</uib-tab>";
  		}
  	}
  	return element;
  	%]
  [% }
%]